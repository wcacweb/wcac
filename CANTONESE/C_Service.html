<!DOCTYPE html>
<html>

<head>
    <title>Welcome to Cantonese website</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="../CSS/mainstyle.css" rel="stylesheet" type="text/css" />
    <link href="../CSS/mandarin.css" rel="stylesheet" type="text/css" />
    <script src="../JS/homeScript.js"></script>
</head>


<!-- Please add youtube link here -->
<script>
    //
    //  Forward to the most recent worship link based on the current date. On mondays and tuesdays we go back to Sunday's video All other days we forward to the upcoming Sunday's stream.
    //
    const linkMapString = '{  "20231001":"https://youtu.be/hBubww1xQv8", "20231008":"https://youtu.be/psGhJeu7gFs", "20231015":"https://youtu.be/XWyYTEW56og", "20231022":"https://youtu.be/5ALIpjqYb_g", '+
                          '   "20231029":"https://youtu.be/HWVPID_leV0", "20231105":"https://youtu.be/D_mmByvfVkM", "20231112":"https://youtu.be/Uj-kzg5obMk", "20231112":"https://youtu.be/lifY-jHOc38", '+
                          '   "20231126":"https://youtu.be/Ab6XowrzvJA", "20231203":"https://youtu.be/3enMJh58kXE", "20231210":"https://youtu.be/HPegDFxUBwI", "20231217":"https://youtu.be/lI7d3d6p6qE", '+
                          '   "20231224":"https://youtu.be/jwHGucLvg1s", "20231231":"https://youtu.be/X1LQeHDN0pU", ' +
	    
	                  ' "20240107":"https://youtu.be/AGI2ZOZ4juo", "20240114":"https://youtube.com/live/QYV1Ho0MpqI", "20240121":"https://youtu.be/HtzbCoFVMRw","20240128":"https://youtube.com/live/C8OOvMmP81Q?feature=share", '+
                          ' "20240204":"https://youtu.be/KbMIbpruH1Q", "20240211":"https://youtu.be/bUxhQdiqNcI", '+
                          ' "20240218":"https://youtu.be/AWrEFtWNjz0", "20240225":"https://youtu.be/11H016mEfMM", "20240303":"https://youtu.be/wm1taok9yEI", "20240310":"https://youtu.be/2MsDfkS8C3g", '+
                          ' "20240317":"https://youtu.be/081p3VLXkp8", "20240324":"https://youtu.be/Nc4h1Xy8hog", "20240331":"https://youtu.be/IdEebt3iSBI", "20240407":"https://youtu.be/e4N8hMOwrIM", '+
                          ' "20240414":"https://youtu.be/jt8r23krSPg", "20240421":"https://youtube.com/live/vQvUju_63g8", "20240428":"https://youtu.be/zAroZFictm0", "20240505":"https://youtu.be/mzPThW4QuQ0", "20240512":"https://youtu.be/kf6rEEiGiTc", '+
                          ' "20240512":"https://youtube.com/live/kf6rEEiGiTc", "20240519":"https://youtu.be/Hys4tQezj5E", "20240526":"https://youtu.be/VBffWtYFcZg", "20240602":"https://youtu.be/tJyTVLeQNvo", "20240609":"https://youtu.be/G2Ap8QAs90Y", '+
                          ' "20240616":"https://youtu.be/hsDR1EjQqqg", "20240623":"https://youtu.be/eMGgNwYnLlQ", "20240630":"https://youtu.be/JCe4y8o-k5c", "20240707":"https://youtu.be/CLQ0HupGUPE", '+
                          ' "20240714":"https://youtu.be/IGp8Z5W3Y0o", "20240721":"https://youtu.be/MiiGcsx5CgI", "20240728":"https://youtu.be/oRxIrBzCS1s", "20240804":"https://youtu.be/2BEDqEOH8oU", '+
                          ' "20240811":"https://youtu.be/pnU3BZPL0bk", "20240818":"https://youtu.be/SDWpGkb5n_w", "20240825":"https://youtu.be/syZ1tSjbVAM", "20240901":"https://youtu.be/hgaO401KznI", '+
                          ' "20240908":"https://youtu.be/hJb2WPaHhro", "20240915":"https://youtu.be/YazvbfETGrY", "20240922":"https://youtu.be/arzBMiFJDcE", "20240929":"https://youtu.be/pJVp3lDpsTk", "20241006":"https://youtu.be/UItpFwRDVog", '+
                          ' "20241013":"https://youtu.be/t_k4Iq05v74", "20241020":"https://youtu.be/lplOfT82wkw", "20241027":"https://youtu.be/BlojXOgXCrs", "20241103":"https://youtu.be/yTY_lD4ht5o", '+
                          ' "20241110":"https://youtu.be/ptlRK4Dmd0o", "20241117":"https://youtu.be/ExEtaybsYX8", "20241124":"https://youtu.be/BX9_yxEKlXE", "20241201":"https://youtube.com/live/BX9_yxEKlXE", '+
                          ' "20241208":"https://youtu.be/bAWgU4kGmdU", "20241215":"https://youtu.be/pWbv7sbAll8", "20241222":"https://youtu.be/7G5lAkQ9HFc", "20241229":"https://youtu.be/1VSsBEVdx_g"  }';




 


	
	linkMap = JSON.parse( linkMapString );
    
    let addDays = (date, days) => {
        let result = new Date(date);
        result.setDate(result.getDate() + days);
        return result;
    }
    
    let findSunday = (d)=>{
      switch(d.getDay()) {
        case 0:
          return d;
          break;
        case 1:
          return addDays(d,-1);
          break;
        case 2:
          return addDays(d,-2);
          break;
        case 3:
          return addDays(d,+4);
          break; 
        case 4:
          return addDays(d,+3);
          break; 
        case 5:
          return addDays(d,+2);
          break;
        case 6:
          return addDays(d,+1);
          break;
      }
    }
    
    let sd = findSunday(new Date());
    let dd  =  sd.getDate().toString().padStart(2, '0');
    let mm  =  (sd.getMonth()+1).toString().padStart(2, '0');
    let yyyy = sd.getFullYear().toString();
    let dateKey = yyyy+mm+dd;
    window.location.replace(linkMap[dateKey]); 

 </script>

</html>
 
