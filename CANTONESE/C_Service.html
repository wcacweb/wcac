<!DOCTYPE html>
<html>

<head>
    <title>Welcome to Cantonese website</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="../CSS/mainstyle.css" rel="stylesheet" type="text/css" />
    <link href="../CSS/mandarin.css" rel="stylesheet" type="text/css" />
    <script src="../JS/homeScript.js"></script>
</head>


<!-- Please add youtube link here -->
<script>
 //
    //  Forward to the most recent worship link based on the current date. On mondays and tuesdays we go back to Sunday's video All other days we forward to the upcoming Sunday's stream.
    //
    const linkMapString = '{  "20211010":"https://youtu.be/9WjVbbBAzwU", "20211017":"https://youtu.be/2XPKwN5oBL0", "20211024":"https://youtu.be/RcfkoQf8u-4", "20211031":"https://youtu.be/tWSAsT7CZr0",'+  //OCT
                          '   "20211107":"https://youtu.be/2Nmh_cSvNV0", "20211114":"https://youtu.be/hYlrsb3bsNs", "20211121":"https://youtu.be/npixU5gZ9YU", "20211128":"https://youtu.be/0XIGdGiEX2s",' + //NOV
                          '   "20211205":"https://youtu.be/QL_T9blC6f4", "20211212":"https://youtu.be/wDU4IEdrkAQ", "20211219":"https://youtu.be/lcmPlNrgYww", "20211226":"https://youtu.be/Y8PlF7Cqihk",' +  //DEC
                          '   "20220102":"https://youtu.be/SHXY77GKIzE", "20220109":"https://youtu.be/iInjxCRcjOM", "20220116":"https://youtu.be/yO8NkEnQZyU", "20220123":"https://youtu.be/Z910i2XYc-I", "20220130":"https://youtu.be/8BPap8ff1wQ",' + //Jan
                          '   "20220206":"https://youtu.be/NL-GH89P4rA", "20220213":"https://youtu.be/_n6SjQQoPzc", "20220220":"https://youtu.be/eXdvCLGTuGA", "20220227":"https://youtu.be/Z4-zsER1sbM",' + //Feb
		          '   "20220306":"https://youtu.be/8m-5C5y1U80", "20220313":"https://youtu.be/n1hAApr48KU", "20220320":"https://youtu.be/F3L3hZFgQwU", "20220327":"https://youtu.be/NgBnvhu-nE4",' + //Mar
	                  '   "20220403":"https://youtu.be/4GLax9wOHKk", "20220410":"https://youtu.be/m9WmbYMp5qw", "20220417":"https://youtu.be/W5hht8d0JFU", "20220424":"https://youtu.be/wrpJdlOodvA",' + //Apr
                          '   "20220501":"https://youtu.be/oh4HNeGjRJI", "20220508":"https://youtu.be/0Ztr9-aqYOQ", "20220515":"https://youtu.be/QRwk9ICCXS4", "20220522":"https://youtu.be/_RaO8QYmVdQ", "20220529":"https://youtu.be/UkjWLIr0k2I",' +
	                  '   "20220605":"https://youtu.be/RJE6NvQDWfc", "20220612":"https://youtu.be/yCjxb2zzqW8", "20220619":"https://youtu.be/y7lWowNvpgA", "20220626":"https://youtu.be/inSHd_LcpiQ",' + //JUN
	                  '   "20220703":"https://youtu.be/zurR4it7toI", "20220710":"https://youtu.be/TADokexC7jI", "20220717":"https://youtu.be/O0kWv7y5L50", "20220724":"https://youtu.be/TSYgMPvFXks", "20220731":"https://youtu.be/od8Xpzoy9jk",' +
                          '   "20220807":"https://youtu.be/YabEwmDWxps", "20220821":"https://youtu.be/ec11t5zyhao", "20220814":"https://youtu.be/Wi3p0DdLoH8", "20220828":"https://youtu.be/cGCYhQHER3Q",' +
			  '   "20220904":"https://youtu.be/J6tDZTTdVpY", "20220911":"https://youtu.be/TFcmZJotqVA", "20220918":"https://youtu.be/KOR_5n21DE8", "20220925":"https://youtu.be/rIDHmfVysQo",' +
	                  '   "20221002":"https://youtu.be/yBEPhNJd8To", "20221009":"https://youtu.be/jndqgKiXPlk", "20221016":"https://youtu.be/S9qbASfGCEA", "20221023":"https://youtu.be/EgyQT8ukuew", "20221030":"https://youtu.be/zTF851wnjSc",' +
	                  '   "20221106":"https://youtu.be/EM2FhS_hmNI", "20221113":"https://youtu.be/M6vNlocA-ao", "20221120":"https://youtu.be/NLFFZN-oVfY", "20221127":"https://youtu.be/fZ4O4KgA-As",' +
                          '   "20221204":"https://youtu.be/ZZh12bH5oN8", "20221211":"https://youtu.be/TUXGP0hY6dQ", "20221218":"https://youtu.be/13nFGyHpUOk", "20221225":"https://youtu.be/ajC57A9Yz98",' +
	  		  '   "20230101":"https://youtu.be/PObE_LgNEhM", "20230108":"https://youtu.be/syGR1VrhNYo", "20230115":"https://youtu.be/zT9zi3WG-9A", "20230122":"https://youtu.be/8iMrxSzvyQ0",' +
	                  '   "20230129":"https://youtu.be/XrjiUTiY4A4", "20230205":"https://youtu.be/Ro96csi6hNE", "20230212":"https://youtu.be/mfbkkOF1rHk", "20230219":"https://youtu.be/jfVMpF0TGhE",' + 
	                  '   "20230226":"https://youtu.be/0QIJRb7sJ6w", "20230305":"https://youtu.be/JudlWSDc9y4", "20230312":"https://youtu.be/B9deylsS7sE", "20230319":"https://youtu.be/K9qX10xBjhQ","20230326":"https://youtu.be/3HbjmJWggaw" }';


 


	
	linkMap = JSON.parse( linkMapString );
    
    let addDays = (date, days) => {
        let result = new Date(date);
        result.setDate(result.getDate() + days);
        return result;
    }
    
    let findSunday = (d)=>{
      switch(d.getDay()) {
        case 0:
          return d;
          break;
        case 1:
          return addDays(d,-1);
          break;
        case 2:
          return addDays(d,-2);
          break;
        case 3:
          return addDays(d,+4);
          break; 
        case 4:
          return addDays(d,+3);
          break; 
        case 5:
          return addDays(d,+2);
          break;
        case 6:
          return addDays(d,+1);
          break;
      }
    }
    
    let sd = findSunday(new Date());
    let dd  =  sd.getDate().toString().padStart(2, '0');
    let mm  =  (sd.getMonth()+1).toString().padStart(2, '0');
    let yyyy = sd.getFullYear().toString();
    let dateKey = yyyy+mm+dd;
    window.location.replace(linkMap[dateKey]); 

 </script>

</html>
 
