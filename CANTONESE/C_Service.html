<!DOCTYPE html>
<html>

<head>
    <title>Welcome to Cantonese website</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="../CSS/mainstyle.css" rel="stylesheet" type="text/css" />
    <link href="../CSS/mandarin.css" rel="stylesheet" type="text/css" />
    <script src="../JS/homeScript.js"></script>
</head>


<!-- Please add youtube link here -->
<script>
    //
    //  Forward to the most recent worship link based on the current date. On mondays and tuesdays we go back to Sunday's video All other days we forward to the upcoming Sunday's stream.
    //
    const linkMapString = '{  "20241208":"https://youtu.be/bAWgU4kGmdU", "20241215":"https://youtu.be/pWbv7sbAll8", "20241222":"https://youtu.be/7G5lAkQ9HFc", "20241229":"https://youtu.be/1VSsBEVdx_g",'  +
	    		  ' "20250105":"https://youtu.be/dHWUljV1Dn0""20250112":"https://youtu.be/QgYvGbwJabg", "20250119":"https://youtu.be/OPPRg2aBDLw", "20250126":"https://youtu.be/kRIjwlY6ikg", "20250202":"https://youtu.be/lMc7YouQrtI", '+
                          ' "20250209":"https://youtu.be/sL5bQJLgSH0", "20250216":"https://youtu.be/Lar11HZh4u8", "20250223":"https://youtu.be/wfTh6cyuDhg", "20250302":"https://youtu.be/q-6Appk8_V0", '+
                          ' "20250309":"https://youtu.be/njlsIfsp_jw", "20250316":"https://youtu.be/htVGwqxKod4", "20250330":"https://youtu.be/wUIZiNJev-4", "20250406":"https://youtu.be/7PKImiJzfP0", '+
                          ' "20250413":"https://youtu.be/SBV-XfnH1vI", "20250420":"https://youtu.be/7r4PBsChgXw", "20250427":"https://youtu.be/ledxT9ncN2s", "20250504":"https://youtu.be/LSugZ-dqdYk", '+
                          ' "20250511":"https://youtu.be/h79z_-aJu1M", "20250518":"https://youtu.be/d-pzBVvmFJw", "20250525":"https://youtu.be/i2oHaKL1e-4", "20250601":"https://youtu.be/rO70hMvJjDg", '+
                          ' "20250608":"https://youtu.be/f63ZF4vhUvI", "20250622":"https://youtu.be/qLVBmz5wOuQ", "20250629":"https://youtu.be/XT7pjEcskUk", "20250706":"https://youtu.be/yZTiCWgAI5E", '+
                          ' "20250713":"https://youtu.be/HWRLHb86m4k", "20250720":"https://youtu.be/POAkdp372Ss", "20250727":"https://youtu.be/DFpR3IFI3Vw", "20250803":"https://youtu.be/PH-kqAavJ8c", '+
                          ' "20250810":"https://youtu.be/WL0mKPVEC9U", "20250817":"https://youtu.be/Qt7SRnJaY7k", "20250824":"https://youtu.be/dl1DKZqAFkw", "20250831":"https://youtu.be/7HOddrzNgQI", '+
                          ' "20250907":"https://youtu.be/6S9aEwrVQUk", "20250914":"https://youtu.be/o4_Fsja8FzQ", "20250921":"https://youtu.be/C-F9XJ_xZ5k", "20250928":"https://youtu.be/BK0N-f7Wia0", '+
                          ' "20251005":"https://youtu.be/aOi5_tQNBNw", "20251012":"https://youtu.be/C0eHKgJg9tY", "20251019":"https://youtu.be/l-3jrPn_ykk", "20251026":"https://youtu.be/gkuYh_V7SzQ", '+
                          ' "20251102":"https://youtu.be/oiHBvw-Vg4I", "20251109":"https://youtu.be/s4KiABEm6_A", "20251116":"https://youtu.be/kZc3JMCkWE4", "20251123":"https://youtu.be/gia8f9hla8E", '+
                          ' "20251130":"https://youtu.be/l6STfZ-TySk", "20251207":"https://youtu.be/li7sOAOdb3c", "20251214":"https://youtu.be/gOYuMLUCMVY", "20251221":"https://youtu.be/KhYsWdXJCa4", '+
                          ' "20251228":"https://youtu.be/Ks-SV7ZRu6Y" }';




 


	
	linkMap = JSON.parse( linkMapString );
    
    let addDays = (date, days) => {
        let result = new Date(date);
        result.setDate(result.getDate() + days);
        return result;
    }
    
    let findSunday = (d)=>{
      switch(d.getDay()) {
        case 0:
          return d;
          break;
        case 1:
          return addDays(d,-1);
          break;
        case 2:
          return addDays(d,-2);
          break;
        case 3:
          return addDays(d,+4);
          break; 
        case 4:
          return addDays(d,+3);
          break; 
        case 5:
          return addDays(d,+2);
          break;
        case 6:
          return addDays(d,+1);
          break;
      }
    }
    
    let sd = findSunday(new Date());
    let dd  =  sd.getDate().toString().padStart(2, '0');
    let mm  =  (sd.getMonth()+1).toString().padStart(2, '0');
    let yyyy = sd.getFullYear().toString();
    let dateKey = yyyy+mm+dd;
    window.location.replace(linkMap[dateKey]); 

 </script>

</html>
 
